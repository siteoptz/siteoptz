{"version":3,"sources":["../../../../pages/test-login.js","../../../../node_modules/next/dist/esm/build/templates/pages.js"],"sourcesContent":["import { useState } from 'react';\n\nexport default function TestLogin() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleTestLogin = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setResult(null);\n\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password })\n      });\n\n      const data = await response.json();\n      \n      setResult({\n        status: response.status,\n        data: data,\n        timestamp: new Date().toISOString()\n      });\n\n      // If successful, show redirect info but don't actually redirect\n      if (data.success) {\n        console.log('Would redirect to:', data.redirectUrl);\n      }\n    } catch (error) {\n      setResult({\n        error: error.message,\n        timestamp: new Date().toISOString()\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '800px', margin: '0 auto' }}>\n      <h1>Test Login Page</h1>\n      <p>Use this page to debug authentication issues</p>\n\n      <form onSubmit={handleTestLogin} style={{ marginTop: '2rem' }}>\n        <div style={{ marginBottom: '1rem' }}>\n          <label>\n            Email:\n            <input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              style={{ \n                display: 'block', \n                width: '100%', \n                padding: '0.5rem',\n                marginTop: '0.25rem'\n              }}\n            />\n          </label>\n        </div>\n\n        <div style={{ marginBottom: '1rem' }}>\n          <label>\n            Password:\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n              style={{ \n                display: 'block', \n                width: '100%', \n                padding: '0.5rem',\n                marginTop: '0.25rem'\n              }}\n            />\n          </label>\n        </div>\n\n        <button \n          type=\"submit\" \n          disabled={loading}\n          style={{ \n            padding: '0.5rem 2rem',\n            background: loading ? '#ccc' : '#4CAF50',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: loading ? 'not-allowed' : 'pointer'\n          }}\n        >\n          {loading ? 'Testing...' : 'Test Login'}\n        </button>\n      </form>\n\n      {result && (\n        <div style={{ \n          marginTop: '2rem', \n          padding: '1rem', \n          background: '#f5f5f5',\n          borderRadius: '4px'\n        }}>\n          <h3>Result:</h3>\n          <pre style={{ whiteSpace: 'pre-wrap', wordBreak: 'break-word' }}>\n            {JSON.stringify(result, null, 2)}\n          </pre>\n\n          {result.data?.success && (\n            <div style={{ \n              marginTop: '1rem', \n              padding: '1rem', \n              background: '#e8f5e9',\n              borderRadius: '4px'\n            }}>\n              <strong>✅ Login Successful!</strong>\n              <br />\n              <strong>User Plan:</strong> {result.data.user?.plan || 'Not found'}\n              <br />\n              <strong>Redirect URL:</strong> {result.data.redirectUrl || 'Not specified'}\n              <br />\n              <br />\n              <button\n                onClick={() => window.location.href = result.data.redirectUrl}\n                style={{\n                  padding: '0.5rem 1rem',\n                  background: '#2196F3',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer'\n                }}\n              >\n                Go to Dashboard\n              </button>\n            </div>\n          )}\n\n          {result.data?.error === 'user_not_found' && (\n            <div style={{ \n              marginTop: '1rem', \n              padding: '1rem', \n              background: '#fff3e0',\n              borderRadius: '4px'\n            }}>\n              <strong>⚠️ User Not Found</strong>\n              <br />\n              This email is not registered in GoHighLevel.\n              <br />\n              <a href=\"#register\">Create Account</a>\n            </div>\n          )}\n        </div>\n      )}\n\n      <div style={{ \n        marginTop: '2rem', \n        padding: '1rem', \n        background: '#e3f2fd',\n        borderRadius: '4px'\n      }}>\n        <h3>Test Instructions:</h3>\n        <ol>\n          <li>Enter an email that exists in your GoHighLevel account</li>\n          <li>Enter any password (6+ characters for dev mode)</li>\n          <li>Click \"Test Login\"</li>\n          <li>Check the result to see:\n            <ul>\n              <li>If the user was found</li>\n              <li>What plan they have</li>\n              <li>What URL they would be redirected to</li>\n            </ul>\n          </li>\n        </ol>\n        \n        <h4>Known Test User:</h4>\n        <p>Email: test-auth@example.com</p>\n        <p>Expected Plan: pro</p>\n        <p>Expected Redirect: https://siteoptz.ai/dashboard/pro</p>\n      </div>\n\n      <div style={{ \n        marginTop: '1rem',\n        padding: '0.5rem',\n        background: '#fafafa',\n        borderRadius: '4px',\n        fontSize: '0.9rem'\n      }}>\n        <strong>Debug Info:</strong>\n        <br />\n        Check browser console for additional logging\n      </div>\n    </div>\n  );\n}","import { PagesRouteModule } from \"next/dist/esm/server/route-modules/pages/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { hoist } from \"next/dist/esm/build/templates/helpers\";\n// Import the app and document modules.\nimport * as document from \"INNER_DOCUMENT\";\nimport * as app from \"INNER_APP\";\n// Import the userland code.\nimport * as userland from \"INNER_PAGE\";\nimport { getHandler } from \"next/dist/esm/server/route-modules/pages/pages-handler\";\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default');\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps');\nexport const getStaticPaths = hoist(userland, 'getStaticPaths');\nexport const getServerSideProps = hoist(userland, 'getServerSideProps');\nexport const config = hoist(userland, 'config');\nexport const reportWebVitals = hoist(userland, 'reportWebVitals');\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(userland, 'unstable_getStaticProps');\nexport const unstable_getStaticPaths = hoist(userland, 'unstable_getStaticPaths');\nexport const unstable_getStaticParams = hoist(userland, 'unstable_getStaticParams');\nexport const unstable_getServerProps = hoist(userland, 'unstable_getServerProps');\nexport const unstable_getServerSideProps = hoist(userland, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n    definition: {\n        kind: RouteKind.PAGES,\n        page: \"/test-login\",\n        pathname: \"/test-login\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    components: {\n        // default export might not exist when optimized for data only\n        App: app.default,\n        Document: document.default\n    },\n    userland\n});\nexport const handler = getHandler({\n    srcPage: \"/test-login\",\n    config,\n    userland,\n    routeModule,\n    getStaticPaths,\n    getStaticProps,\n    getServerSideProps\n});\n\n//# sourceMappingURL=pages.js.map\n"],"names":[],"mappings":"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","ignoreList":[1]}