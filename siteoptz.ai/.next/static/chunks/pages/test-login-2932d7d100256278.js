(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[211],{89:function(e,r,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test-login",function(){return i(1389)}])},1389:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return t}});var s=i(4246),n=i(7378);function t(){var e,r,i;let[t,d]=(0,n.useState)(""),[o,a]=(0,n.useState)(""),[l,c]=(0,n.useState)(null),[u,h]=(0,n.useState)(!1),p=async e=>{e.preventDefault(),h(!0),c(null);try{let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:o})}),r=await e.json();c({status:e.status,data:r,timestamp:new Date().toISOString()}),r.success&&console.log("Would redirect to:",r.redirectUrl)}catch(e){c({error:e.message,timestamp:new Date().toISOString()})}finally{h(!1)}};return(0,s.jsxs)("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[(0,s.jsx)("h1",{children:"Test Login Page"}),(0,s.jsx)("p",{children:"Use this page to debug authentication issues"}),(0,s.jsxs)("form",{onSubmit:p,style:{marginTop:"2rem"},children:[(0,s.jsx)("div",{style:{marginBottom:"1rem"},children:(0,s.jsxs)("label",{children:["Email:",(0,s.jsx)("input",{type:"email",value:t,onChange:e=>d(e.target.value),required:!0,style:{display:"block",width:"100%",padding:"0.5rem",marginTop:"0.25rem"}})]})}),(0,s.jsx)("div",{style:{marginBottom:"1rem"},children:(0,s.jsxs)("label",{children:["Password:",(0,s.jsx)("input",{type:"password",value:o,onChange:e=>a(e.target.value),required:!0,style:{display:"block",width:"100%",padding:"0.5rem",marginTop:"0.25rem"}})]})}),(0,s.jsx)("button",{type:"submit",disabled:u,style:{padding:"0.5rem 2rem",background:u?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:u?"not-allowed":"pointer"},children:u?"Testing...":"Test Login"})]}),l&&(0,s.jsxs)("div",{style:{marginTop:"2rem",padding:"1rem",background:"#f5f5f5",borderRadius:"4px"},children:[(0,s.jsx)("h3",{children:"Result:"}),(0,s.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(l,null,2)}),(null===(e=l.data)||void 0===e?void 0:e.success)&&(0,s.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",background:"#e8f5e9",borderRadius:"4px"},children:[(0,s.jsx)("strong",{children:"✅ Login Successful!"}),(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"User Plan:"})," ",(null===(r=l.data.user)||void 0===r?void 0:r.plan)||"Not found",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Redirect URL:"})," ",l.data.redirectUrl||"Not specified",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("button",{onClick:()=>window.location.href=l.data.redirectUrl,style:{padding:"0.5rem 1rem",background:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Go to Dashboard"})]}),(null===(i=l.data)||void 0===i?void 0:i.error)==="user_not_found"&&(0,s.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",background:"#fff3e0",borderRadius:"4px"},children:[(0,s.jsx)("strong",{children:"⚠️ User Not Found"}),(0,s.jsx)("br",{}),"This email is not registered in GoHighLevel.",(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"#register",children:"Create Account"})]})]}),(0,s.jsxs)("div",{style:{marginTop:"2rem",padding:"1rem",background:"#e3f2fd",borderRadius:"4px"},children:[(0,s.jsx)("h3",{children:"Test Instructions:"}),(0,s.jsxs)("ol",{children:[(0,s.jsx)("li",{children:"Enter an email that exists in your GoHighLevel account"}),(0,s.jsx)("li",{children:"Enter any password (6+ characters for dev mode)"}),(0,s.jsx)("li",{children:'Click "Test Login"'}),(0,s.jsxs)("li",{children:["Check the result to see:",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"If the user was found"}),(0,s.jsx)("li",{children:"What plan they have"}),(0,s.jsx)("li",{children:"What URL they would be redirected to"})]})]})]}),(0,s.jsx)("h4",{children:"Known Test User:"}),(0,s.jsx)("p",{children:"Email: test-auth@example.com"}),(0,s.jsx)("p",{children:"Expected Plan: pro"}),(0,s.jsx)("p",{children:"Expected Redirect: https://siteoptz.ai/dashboard/pro"})]}),(0,s.jsxs)("div",{style:{marginTop:"1rem",padding:"0.5rem",background:"#fafafa",borderRadius:"4px",fontSize:"0.9rem"},children:[(0,s.jsx)("strong",{children:"Debug Info:"}),(0,s.jsx)("br",{}),"Check browser console for additional logging"]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=89)}),_N_E=e.O()}]);